# C#のイベント構文について
## イベント
「キーボードのボタンが押された」「マウスが移動した」等の<br>
コンピュータ上で発生する事象のことを**イベント**といい、<br>
**イベント**に伴って処理されるものを**イベント ハンドラ**と呼びます。<br>

基本的にはイベントハンドラ(関数等)を外部から注入できるように<br>
イベントの発火基にデリゲートを用意する必要があります。<br>
デリゲートは委譲という意味で関数を登録することができる変数のようなものです。<br>
デリゲートを扱うためにはまずデリゲートの方を定義しなければいけません。<br>
戻り値void引数intの関数を登録するには<br>
delegate void SomeDelegate(int a);<br>
このようなデリゲートを定義する必要があります。<br>
これはまだ定義をしただけなので関数を登録することはできません。<br>
SomeDelegate someDelegateIns;<br>
someDelegateIns = SetValue;<br>
とのようにデリゲート変数を定義することにより、関数を受け渡すことができます。<br>
+= にすると追加で登録でき、<br>
-= にすると既に登録していたものを解除します。<br>
毎回定義をするのも大変なのでデリゲートにはジェネリクス型があります。<br>
Action 戻り値なしの場合はこれを用います、<br>
引数もない場合はActionのみでだいじょうぶです、<br>
Func 戻り値がつかえます、戻り値の型は一番最後になっています。<br>
デリゲートは登録する際に登録側が参照する必要がありますが、<br>
その場合既に登録されている関数を呼び出す事もできてしまいます。<br>
よってこれを防ぐためにはゲッタ、セッタ等を作る必要があるのではと思いますが、<br>
event SomeDelegate onValueSet;<br>
のようにC#ではデリゲートの前にeventと付与してあげることにより、<br>
関数の呼び出しがデリゲートを保持していないクラスが行えないようになります。<br>
Action、Funcも組み合わせることができます。<br>
